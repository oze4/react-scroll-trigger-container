(window["webpackJsonpreact-scroll-trigger-update"]=window["webpackJsonpreact-scroll-trigger-update"]||[]).push([[0],{14:function(e,t,r){e.exports=r(21)},20:function(e,t,r){},21:function(e,t,r){"use strict";r.r(t);var n=r(5),o=r(6),i=r(9),s=r(7),l=r(10),a=r(0),c=r.n(a),u=r(8),h=r.n(u),d=r(3),p=r(12),m=r(1),f=r(2),v=r(4),b=r.n(v),E=r(13);function g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}var O=function(e){function t(e){var r;return Object(n.a)(this,t),(r=Object(i.a)(this,Object(s.a)(t).call(this,e))).onScrollThrottled=b()(r.onScroll.bind(Object(f.a)(r)),e.throttleScroll,{trailing:!1}),r.onResizeThrottled=b()(r.onResize.bind(Object(f.a)(r)),e.throttleResize,{trailing:!1}),r.state={isCustomContainerRef:!1,inViewport:!1,progress:0,lastScrollPosition:null,lastScrollTime:null},r}return Object(l.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.props.containerRef!==(document.documentElement||"html")?(this.setState({isCustomContainerRef:!0}),this.props.containerRef.addEventListener("resize",this.onResizeThrottled),this.props.containerRef.addEventListener("scroll",this.onScrollThrottled)):(addEventListener("resize",this.onResizeThrottled),addEventListener("scroll",this.onScrollThrottled)),this.props.triggerOnLoad&&this.checkStatus()}},{key:"componentDidUpdate",value:function(e,t){e.throttleScroll!==this.props.throttleScroll&&(this.onScrollThrottled=b()(this.onScroll.bind(this),this.props.throttleScroll,{trailing:!1}),this.state.isCustomContainerRef?(this.props.containerRef.removeEventListener("scroll",this.onScrollThrottled),this.props.containerRef.addEventListener("scroll",this.onScrollThrottled)):(removeEventListener("scroll",this.onScrollThrottled),addEventListener("scroll",this.onScrollThrottled))),e.throttleResize!==this.props.throttleResize&&(this.onResizeThrottled=b()(this.onResize.bind(this),this.props.throttleResize,{trailing:!1}),this.state.isCustomContainerRef?(this.props.containerRef.removeEventListener("resize",this.onResizeThrottled),this.props.containerRef.addEventListener("resize",this.onResizeThrottled)):(removeEventListener("resize",this.onResizeThrottled),addEventListener("resize",this.onResizeThrottled))),e.containerRef!==this.props.containerRef&&(this.props.containerRef!==(document.documentElement||"html")?(this.setState({isCustomContainerRef:!0}),removeEventListener("resize",this.onResizeThrottled),removeEventListener("scroll",this.onScrollThrottled),this.props.containerRef.addEventListener("resize",this.onResizeThrottled),this.props.containerRef.addEventListener("scroll",this.onScrollThrottled)):(this.props.containerRef.removeEventListener("resize",this.onResizeThrottled),this.props.containerRef.removeEventListener("scroll",this.onScrollThrottled),addEventListener("resize",this.onResizeThrottled),addEventListener("scroll",this.onScrollThrottled)),this.checkStatus())}},{key:"componentWillUnmount",value:function(){this.state.isCustomContainerRef?(this.props.containerRef.removeEventListener("resize",this.onResizeThrottled),this.props.containerRef.removeEventListener("scroll",this.onScrollThrottled)):(removeEventListener("resize",this.onResizeThrottled),removeEventListener("scroll",this.onScrollThrottled))}},{key:"onResize",value:function(){this.checkStatus()}},{key:"onScroll",value:function(){this.checkStatus()}},{key:"checkStatus",value:function(){var e=this.props,t=e.containerRef,r=e.onEnter,n=e.onExit,o=e.onProgress,i=this.state,s=i.lastScrollPosition,l=i.lastScrollTime,a=h.a.findDOMNode(this.element).getBoundingClientRect(),c="string"===typeof t?document.querySelector(t):t,u=t===document.documentElement?Math.max(t.clientHeight,window.innerHeight||0):c.clientHeight,d=a.top<=u&&a.bottom>=0,p=this.state.isCustomContainerRef?t.scrollTop:window.scrollY,m=s&&l?Math.abs((s-p)/(l-Date.now())):null;if(d){var f=Math.max(0,Math.min(1,1-a.bottom/(u+a.height)));return this.state.inViewport||(this.setState({inViewport:d}),r({progress:f,velocity:m},this)),o({progress:f,velocity:m},this),void this.setState({lastScrollPosition:p,lastScrollTime:Date.now()})}if(this.state.inViewport){var v=a.top<=u?1:0;this.setState({lastScrollPosition:p,lastScrollTime:Date.now(),inViewport:d,progress:v}),o({progress:v,velocity:m},this),n({progress:v,velocity:m},this)}}},{key:"render",value:function(){var e=this,t=this.props,r=t.children,n=t.component,o=c.a.isValidElement(n)?"cloneElement":"createElement";return c.a[o](n,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?g(r,!0).forEach(function(t){Object(d.a)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},Object(E.a)(this.props,["onProgress"]),{ref:function(t){e.element=t}}),r)}}]),t}(a.Component);O.defaultProps={component:"div",containerRef:"undefined"!==typeof document?document.documentElement:"html",throttleResize:100,throttleScroll:100,triggerOnLoad:!0,onEnter:function(){},onExit:function(){},onProgress:function(){}};var y=O;r(20);function S(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}var R={height:"400px",overflow:"scroll",border:"1px dashed black"},j={height:"300px",width:"300px",border:"2px solid blue"},w=6;function T(){var e=Object(a.useState)([]),t=Object(m.a)(e,2),r=t[0],n=t[1],o=Object(a.useState)({}),i=Object(m.a)(o,2),s=i[0],l=i[1],u=Object(a.useState)(),h=Object(m.a)(u,2),f=h[0],v=h[1],b=Object(a.useState)(),E=Object(m.a)(b,2),g=E[0],O=E[1],T=Object(a.useState)(),z=Object(m.a)(T,2),P=z[0],L=z[1];Object(a.useEffect)(function(){!function(){var e=document.getElementById("placeholder_for_scroll_bottom"),t=document.getElementById("placeholder_for_scroll_top");setTimeout(function(){e.scrollIntoView()},800),setTimeout(function(){t.scrollIntoView()},1e3)}()},[]);var k,C=function(e){return function(t){var o=[].concat(Object(p.a)(r),[e]).sort();n(o)}},I=function(e){return function(t){var o=r.filter(function(t){return t!==e});o.sort(),n(o)}},D=function(e){return function(t){var r="Panel_".concat([e]);l(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?S(r,!0).forEach(function(t){Object(d.a)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},s,Object(d.a)({},r,t)))}};return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{ref:function(e){return L(e)},style:R},c.a.createElement("div",{id:"placeholder_for_scroll_top"})," ",c.a.createElement("div",{className:"sticky"},c.a.createElement("pre",null,"VisiblePanels: ",JSON.stringify(r,null,2)),c.a.createElement("pre",null,"ProgressData: ",JSON.stringify(s,null,2))),Array.from(new Array(w),function(e,t){return c.a.createElement(y,{containerRef:P,onEnter:C(t),onExit:I(t),onProgress:D(t)},c.a.createElement("div",{style:j},"Panel_",t))}),c.a.createElement("div",{id:"placeholder_for_scroll_bottom"})," "),c.a.createElement("div",{className:"ta-center"},c.a.createElement("h2",null,"I wanted a way to be able to key on nested ",c.a.createElement("code",null,"div"),"'s within a ",c.a.createElement("code",null,"div"),", which was not possible before."),c.a.createElement("h2",null,"I made this demo to show how you can track ",c.a.createElement("code",null,"div"),"'s within a scrollable ",c.a.createElement("code",null,"div"),", while still keeping the original functionality in tact."),c.a.createElement("h2",null,'If you scroll to the *very* bottom of this page, you can test out "regular" functionality.')),Array.from(new Array(50),function(e,t){return c.a.createElement("p",{key:t},"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Suspendisse scelerisque, lectus in pharetra blandit, augue mauris pulvinar erat, ut euismod nibh lectus sed diam. Nulla fringilla ultrices ligula. Aliquam vitae felis metus. Maecenas lacinia bibendum accumsan. Curabitur lobortis convallis purus non imperdiet. Morbi ut vulputate mauris. Curabitur lacinia faucibus volutpat. Nulla elit tortor, rhoncus ut luctus eget, blandit in risus. Integer accumsan ullamcorper lorem id porttitor. Aliquam vitae libero eget magna mollis gravida.")}),c.a.createElement(y,{onEnter:(k="HIII",function(e){v("Setting message..."),setTimeout(function(){v(k)},1200)}),onProgress:function(e){O(e)}},c.a.createElement("div",{style:{height:"100vh"}},c.a.createElement("h1",null,"HIIIII"),c.a.createElement("pre",null,"onEnter('",f,"')"),c.a.createElement("pre",null,JSON.stringify(g,null,2)))))}var z=function(e){function t(){var e;return Object(n.a)(this,t),(e=Object(i.a)(this,Object(s.a)(t).call(this))).state={name:"React"},e}return Object(l.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return c.a.createElement("div",null,c.a.createElement(T,null))}}]),t}(a.Component);Object(u.render)(c.a.createElement(z,null),document.getElementById("root"))}},[[14,1,2]]]);
//# sourceMappingURL=main.0f3f3e19.chunk.js.map